<div class="container" id="search">
    <form method="POST" action="/admin/reports/search">
        <div class="field has-addons has-addons-right">

            <p class="control">
                <span class="select">
                    <select name="search-by" required>
                        <option value="" selected>Search by: </option>
                        <option value="user">User name/email</option>
                        <option value="patient-name">Patient Name</option>
                        <option value="patient-id">Patient ID</option>
                    </select>
                </span>
            </p>

            <p class="control">
                <input class="input" type="text" value="{{extra.search-key}}" placeholder="Search for reports" name="search-key" required>
            </p>

            <p class="control">
                <button type="submit" class="button is-info">Search</button>
            </p>

        </div>
    </form>
    <hr>
</div>

<div class="columns">

    <div class="column page">
        <nav class="pagination is-small">
            <a href="/admin/reports/{{minus page}}" class="pagination-previous" {{prevButton page}}>Previous</a>
        </nav>
        <nav class="pagination is-small">
            <a href="/admin/reports/{{minus page}}" class="pagination-previous bottom" {{prevButton page}}>Previous</a>
        </nav>
    </div>

    <div class="column is-8">
        {{#each reports}}
        <article class="media">
            <figure class="media-left">
                <p class="image is-64x64">
                    <img src="/assets/images/report.svg" height="64px" width="64px" alt="report image">
                </p>
            </figure>
            <div class="media-content">
                <div class="content">
                    <div class="columns">
                        <div class="column is-8">
                            <p>
                                <strong><a href="/admin/users/{{this.userId}}">{{this.userFullName}}</a></strong> added a
                                new report
                            </p>
                            <p>
                                Patient: {{this.patientName}} {{#if this.patientId}} (Id: <i>{{this.patientId}}</i>) {{/if}}
                            </p>
                        </div>
                        <div class="column">
                            <p>
                                <small><i>{{moment this.date}}</i></small>
                            </p>
                            <p>
                                <a class="button is-primary is-outlined is-small" href="/admin/report/{{this._id}}">View report</a>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="media-right">
                <button class="delete"></button>
            </div>
        </article>
        {{/each}}
    </div>

    <div class="column page">
        <nav class="pagination is-small">
            <a href="/admin/reports/{{plus page}}" class="pagination-next" {{nextButton limit}}>Next page</a>
        </nav>
        <nav class="pagination is-small">
            <a href="/admin/reports/{{plus page}}" class="pagination-next bottom" {{nextButton limit}}>Next page</a>
        </nav>
    </div>
</div>
<script>
    document.title = 'Reports  | ADR-ADMIN';
    <{{!}}/script>